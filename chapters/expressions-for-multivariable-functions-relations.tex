% want to definitely cover the shapes stuff
% want to start off on a low level - how we might approach sticking, top to bottom, two functions together
% original post
% we should cover, squares, diamonds, triangles, batman equation, as examples or highlights.
\section{Expressions for Relations; Multivariable Functions}
We've previously covered the idea of `gluing' several functions together along a real number line, or through some condition, in one dimension. We can bring this idea to higher dimensions; functions in several variables with gluing along arbitrary planes, lines or other functions. There are infinitely many ways to do this, and with the tools set out in these notes, the problems become less of `how do I express this function in terms of elementary functions?' and more of a modelling problem.

In any case, in this section we cover a few select cases on gluing functions together. In particular, we investigate and use the behaviour of intersecting these functions with a plane to create expressions for arbitrary shapes, and investigate shapes.

\subsection{Introduction to curves generated by gluing functions}
Suppose we have two functions, $f(x,y)$ and $g(x,y)$, and we want to glue them along the curve $f(x,y)=g(x,y)$. We could do this in a few ways, two of which are:
$$
    s(x,y)=\begin{piecewise}
        f(x,y) & f(x,y)\geq g(x,y) \\
        g(x,y) & f(x,y)\leq g(x,y)
    \end{piecewise}=\max\br{f(x,y),g(x,y)}
$$

or:

$$
    s(x,y)=\begin{piecewise}
        g(x,y) & f(x,y)\geq g(x,y) \\
        f(x,y) & f(x,y)\leq g(x,y)
    \end{piecewise}=\min\br{f(x,y),g(x,y)}
$$

This actually encodes some fairly complex behaviour in our functions (for example solving for $f(x,y)=g(x,y)$ is not easy); perhaps this is not what we want. Perhaps this is a backwards way of defining what we want, but for the sake of argument, let us now suppose that we have $f(x,y)=y-F(x)$ and $g(x,y)=G(x)-y$, and suppose $s(x,y)=0$. That is, from our first formulation:

\begin{align*}
    s(x,y) &= \begin{piecewise}
        y-F(x) & y-F(x)\geq G(x)-y \\
        G(x)-y & y-F(x)\leq G(x)-y
    \end{piecewise} = 0
\end{align*}

Suddenly, expressing this formulation seems a lot harder, even if we know we can express it by $s(x,y)=\max\br{y-f(x),G(x)-y}=0$. But what does it actually mean?

Let us begin from scratch. We've derived a way to glue two functions in two arguments in a higher dimension; this is necessarily a continuous surface in $\mathbb{R}^3$. We then took an intersection for which $s(x,y)=0$, which doesn't necessarily produce a continuous curve in $\mathbb{R}^2$. It stands to reason, therefore, that we might use this to connect two graphs in $\mathbb{R}^2$ which can be expressed with $y=\dots$.

Let us take the graphs of two functions $f(x)$ and $g(x)$; $y=f(x)$ and $y=g(x)$, and their subsequent `arithmetic mean'; $y=\frac{f(x)+g(x)}{2}$. We wish to plot $f(x)$ if $y$ is `above' this curve and $g(x)$ otherwise. That is:
$$
    y = \begin{piecewise}
        f(x) & y\geq \frac{f(x)+g(x)}{2} \\
        g(x) & y\leq \frac{f(x)+g(x)}{2}
    \end{piecewise}
$$

This piecewise function is not well-defined, since it involves recursion on $y$ (i.e. substitutions on $y$ won't work). Instead, we attempt to manipulate it such that we have a single expression. This is done by first substracting the piecewise object from both sides and moving $y$ in, then multiplying the latter piece by $-1$ since both pieces vanish:

$$
    \begin{piecewise}
        y-f(x) & y\geq \frac{f(x)+g(x)}{2} \\
        g(x)-y & y\leq \frac{f(x)+g(x)}{2}
    \end{piecewise} = 0
$$

Using our gluing formula, we have:
$$
    \paren*{\max\br*{y,\frac{f(x)+g(x)}{2}}-f(x)}+\paren*{g(x)-\min\br*{y,\frac{f(x)+g(x)}{2}}}-\paren*{\frac{g(x)-f(x)}{2}}=0
$$

Simplifying gives us:
$$
    \max\br*{y,\frac{f(x)+g(x)}{2}}-\min\br*{y,\frac{f(x)+g(x)}{2}}=\frac{f(x)-g(x)}{2}
$$

Which, using the identity $\max\br{a,b}-\min\br{a,b}=\abs{a-b}$, gives:
$$
\abs{y-\frac{f(x)+g(x)}{2}}=\frac{f(x)-g(x)}{2}
$$

What should be noted is that this gives the beginnings of creating closed shopes. For example, take $f(x)=1-x^2$ and $g(x)=x^2-1$, which gives $\abs{y}=1-x^2$. We only plot both $y=1-x^2$ and $y=x^2-1$ when $1-x^2\geq 0$ and $x^2-1\leq 0$; creating a closed shape curve (namely $\br{(x,y)\in\mathbb{R}^2\mid \abs{y}=1-x^2}$).

\subsection{Curves generated by intersections of boundary curves}
\subsubsection{Logical `or' and `and' properties generating curves}
Recall that we can `combine' equality conditions using \ref{theorem:logical_and_equality} and \ref{theorem:logical_or_equality}. Furthermore, recall that $x\in\brak{a,b}\iff \ell_{a}^{b}(x)=x$. Using these two tools, we can create curves using a mix of interpolation and clever modelling.

Suppose that we have a function $F:\mathbb{R}^2\to\mathbb{R}$ such that we have a curve given by $F(x,y)=0$. Let us also define $f_1,f_2,\dots,f_n:\mathbb{R}^2\to\mathbb{R}$ such that $f_1,f_2,\dots,f_n$ define the boundary of the curve we want to create. Namely let us also define $g_1,g_2,\dots,g_n$ such that $g_k=0$ when $f_k$ `contributes' to the boundary.

We construct $F$ as follows:
$$
    F(x,y) = \begin{piecewise}
        0 & f_1(x,y)=0 & g_1(x,y)=0 \\
        0 & f_2(x,y)=0 & g_2(x,y)=0 \\
        \vdots & \vdots & \vdots \\
        0 & f_n(x,y)=0 & g_n(x,y)=0 \\
        \star & \star & \star
    \end{piecewise} = r(x,y)\prod_{k=1}^{n}\paren*{p_{k,1}(f_k(x,y))+p_{k,2}(g_k(x,y))}
$$

For some arbitrary, non-zero, function $r(x,y)$ and $p$ functions $p_{k,1}, p_{k,2}$.

Since $F(x,y)=0$ forms our desired curve, we have:
$$
    r(x,y)\prod_{k=1}^{n}\paren*{p_{k,1}(f_k(x,y))+p_{k,2}(g_k(x,y))}=0
$$

\begin{example}
    We want to find a curve such that $y=x$ for $x\geq 0$ and $y=-x$ for $x\leq 0$.

    Creating a function to generate the curve, we have:
    $$
        F(x,y) = \begin{piecewise}
            0 & y-x & x\geq 0 \\
            0 & y+x & x\leq 0 \\
            \star & \star & \star
        \end{piecewise}
    $$

    Recall $x\geq 0\iff\abs{x}=x$ and $x\leq 0\iff\abs{x}=-x$. Using $\abs{x}$ as our $p$ functions therefore, we get:
    $$
        F(x,y) = \begin{piecewise}
            0 & \abs{y-x}+\abs{\abs{x}-x}=0 \\
            0 & \abs{y+x}+\abs{\abs{x}+x}=0 \\
            \star & \star
        \end{piecewise} = (\abs{y-x}+\abs{\abs{x}-x})(\abs{y+x}+\abs{\abs{x}+x})
    $$

    So our final curve is:
    $$
        \br*{(x,y)\in\mathbb{R}^2\mid (\abs{y-x}+\abs{\abs{x}-x})(\abs{y+x}+\abs{\abs{x}+x})=0}
    $$
\end{example}

\newpage